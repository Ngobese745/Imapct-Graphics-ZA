<!DOCTYPE html>
<html>

<head>
  <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->
  <base href="$FLUTTER_BASE_HREF">

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- SEO and Social Media Meta Tags -->
  <meta name="description"
    content="Transform your business with professional marketing services! Logo design, social media management, branding, and digital marketing solutions. Start your project today and boost your online presence!">
  <meta name="keywords"
    content="marketing agency, logo design, social media management, branding, digital marketing, South Africa, graphic design, business growth">
  <meta name="author" content="Impact Graphics ZA">

  <!-- Open Graph Meta Tags for Social Media Sharing -->
  <meta property="og:title" content="Impact Graphics ZA - Professional Marketing & Design Services">
  <meta property="og:description"
    content="Transform your business with professional marketing services! Logo design, social media management, branding, and digital marketing solutions. Start your project today and boost your online presence!">
  <meta property="og:image" content="https://impact-graphics-za-266ef.web.app/icons/Icon-512.png">
  <meta property="og:url" content="https://impact-graphics-za-266ef.web.app">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Impact Graphics ZA">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Impact Graphics ZA - Professional Marketing & Design Services">
  <meta name="twitter:description"
    content="Transform your business with professional marketing services! Logo design, social media management, branding, and digital marketing solutions. Start your project today and boost your online presence!">
  <meta name="twitter:image" content="https://impact-graphics-za-266ef.web.app/icons/Icon-512.png">

  <!-- iOS meta tags & icons -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Impact Graphics ZA">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png" />

  <!-- DNS Prefetch for faster external resource loading -->
  <link rel="dns-prefetch" href="//www.gstatic.com">
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//firebase.googleapis.com">
  <link rel="dns-prefetch" href="//www.google-analytics.com">

  <!-- Preload critical resources that are used immediately -->
  <link rel="preload" href="flutter_bootstrap.js" as="script">

  <!-- Prefetch (not preload) resources used later -->
  <link rel="prefetch" href="manifest.json">
  <link rel="prefetch" href="icons/Icon-192.png">
  <link rel="prefetch" href="icons/Icon-512.png">
  <link rel="prefetch" href="favicon.png">

  <!-- Preconnect to Firebase for faster initialization -->
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://firebase.googleapis.com" crossorigin>

  <title>Impact Graphics ZA - Professional Marketing & Design Services</title>
  <link rel="manifest" href="manifest.json">

  <!-- Professional Splash Screen CSS -->
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #8B0000 0%, #5A0000 100%);
      overflow: hidden;
    }

    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #8B0000 0%, #5A0000 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s ease-out;
    }

    #loading-screen.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .logo-container {
      text-align: center;
      margin-bottom: 2rem;
    }

    .app-logo {
      width: 120px;
      height: 120px;
      margin: 0 auto 1.5rem;
      border-radius: 50%;
      box-shadow: 0 12px 40px rgba(255, 255, 255, 0.3),
        0 0 60px rgba(255, 255, 255, 0.2);
      animation: logoFloat 3s ease-in-out infinite;
      object-fit: cover;
      border: 4px solid rgba(255, 255, 255, 0.9);
    }

    .app-title {
      color: #ffffff;
      font-size: 2.8rem;
      font-weight: 800;
      margin: 0;
      background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: titlePulse 2.5s ease-in-out infinite;
      letter-spacing: 2px;
      text-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
      filter: drop-shadow(0 2px 8px rgba(255, 255, 255, 0.3));
    }

    .app-subtitle {
      color: rgba(255, 255, 255, 0.95);
      font-size: 1.3rem;
      font-weight: 500;
      margin: 0.8rem 0 0;
      opacity: 0.95;
      animation: subtitleFade 3s ease-in-out infinite;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 255, 255, 0.2);
      border-top: 4px solid #ffffff;
      border-right: 4px solid rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      animation: spin 1.2s linear infinite;
      margin: 2.5rem 0 1.5rem;
      box-shadow: 0 4px 20px rgba(255, 255, 255, 0.3),
        0 0 40px rgba(255, 255, 255, 0.2);
    }

    .loading-text {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.1rem;
      font-weight: 500;
      opacity: 0.9;
      animation: textFade 2.5s ease-in-out infinite;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
    }

    .branding-text {
      position: absolute;
      bottom: 2.5rem;
      color: rgba(255, 255, 255, 0.85);
      font-size: 1rem;
      font-weight: 500;
      text-align: center;
      letter-spacing: 2px;
      text-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
    }


    @keyframes logoFloat {

      0%,
      100% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    @keyframes titlePulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.8;
      }
    }

    @keyframes subtitleFade {

      0%,
      100% {
        opacity: 0.8;
      }

      50% {
        opacity: 1;
      }
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    @keyframes textFade {

      0%,
      100% {
        opacity: 0.6;
      }

      50% {
        opacity: 1;
      }
    }


    /* Hide Flutter app until loaded */
    #flutter-app {
      opacity: 0;
      transition: opacity 0.5s ease-in;
    }

    #flutter-app.loaded {
      opacity: 1;
    }
  </style>

  <!-- Google Sign-In Configuration -->
  <meta name="google-signin-client_id"
    content="884752435887-4rf9jhikf4ht028d0gbikmvfgl2o13hr.apps.googleusercontent.com">

  <!-- Firebase Configuration - Optimized for faster loading -->
  <script type="module">
    // Optimized Firebase imports - only load what's needed initially
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, connectAuthEmulator } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyB9SJ5mONEvTyNoJE0r0a5jhYpsii6WVFk",
      authDomain: "impact-graphics-za-266ef.firebaseapp.com",
      projectId: "impact-graphics-za-266ef",
      storageBucket: "impact-graphics-za-266ef.firebasestorage.app",
      messagingSenderId: "884752435887",
      appId: "1:884752435887:web:b4b282e00a7aa9e652e25a",
      measurementId: "G-TNXEBV03ZJ"
    };

    // Initialize Firebase immediately for faster startup
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Make Firebase available globally for Flutter
    window.firebase = {
      app: app,
      auth: auth,
      // Lazy load other services when needed
      get db() {
        if (!this._db) {
          import("https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js").then(module => {
            this._db = module.getFirestore(app);
          });
        }
        return this._db;
      },
      get storage() {
        if (!this._storage) {
          import("https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js").then(module => {
            this._storage = module.getStorage(app);
          });
        }
        return this._storage;
      },
      get analytics() {
        if (!this._analytics) {
          import("https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js").then(module => {
            this._analytics = module.getAnalytics(app);
          });
        }
        return this._analytics;
      }
    };

    console.log('Firebase initialized for web');

    // Load additional services in background
    Promise.all([
      import("https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"),
      import("https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js"),
      import("https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js")
    ]).then(([firestore, storage, analytics]) => {
      window.firebase._db = firestore.getFirestore(app);
      window.firebase._storage = storage.getStorage(app);
      window.firebase._analytics = analytics.getAnalytics(app);
      console.log('All Firebase services loaded');
    });
  </script>
</head>

<body>
  <!-- Professional Splash Screen -->
  <div id="loading-screen">
    <div class="logo-container">
      <img src="https://impactgraphicsza.co.za/assets/logo.png" alt="Impact Graphics ZA Logo" class="app-logo">
      <h1 class="app-title">Impact Graphics ZA</h1>
      <p class="app-subtitle">Professional Marketing & Design Solutions</p>
    </div>

    <div class="loading-spinner"></div>
    <div class="loading-text">Loading your experience...</div>

    <div class="branding-text">
      Creative • Professional • Impactful
    </div>
  </div>

  <!-- Flutter app container -->
  <div id="flutter-app">
    <script src="flutter_bootstrap.js" async></script>
  </div>

  <!-- Loading optimization script -->
  <script>
    // Hide loading screen when Flutter app is ready
    window.addEventListener('flutter-first-frame', function () {
      const loadingScreen = document.getElementById('loading-screen');
      const flutterApp = document.getElementById('flutter-app');

      // Check if elements exist before manipulating them
      if (loadingScreen) {
        loadingScreen.classList.add('hidden');
      }

      if (flutterApp) {
        // Fade in Flutter app
        setTimeout(() => {
          flutterApp.classList.add('loaded');
          // Remove loading screen from DOM after animation
          if (loadingScreen) {
            setTimeout(() => {
              loadingScreen.remove();
            }, 500);
          }
        }, 100);
      }
    });

    // Fallback: hide loading screen after 8 seconds max
    setTimeout(() => {
      const loadingScreen = document.getElementById('loading-screen');
      const flutterApp = document.getElementById('flutter-app');

      if (loadingScreen && !loadingScreen.classList.contains('hidden')) {
        loadingScreen.classList.add('hidden');
        flutterApp.classList.add('loaded');
        setTimeout(() => {
          if (loadingScreen) loadingScreen.remove();
        }, 500);
      }
    }, 8000);
  </script>
</body>

</html>